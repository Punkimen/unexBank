$(document).ready((function(){$(".burger__icon").on("click",(function(){$(this).toggleClass("active"),$(".header__mobile").slideToggle()}));const e=(e,t)=>{e.on("click",(function(){$(this).addClass(t).siblings().removeClass(t)}))};e($(".header__lang"),"active"),e($(".header__mobile-lang"),"active"),e($(".tabs__name-item"),"active"),$(".questions-item__header").on("click",(function(){$(this).parents(".questions-item").toggleClass("active"),$(this).parents(".questions-item").children(".questions-item__body").slideToggle()}));const t=e=>{let t=$(".online__images").height();e.height(t)};t($(".online__content"));const n=()=>{let e=$(window).width();const t=$(".credit-calc__calculation");e<=992?$(".relative-calc-block").append(t):$(".credit-calc__wrapper").append(t)};n(),$(window).resize((function(){$(window).width();contentHeigh(),n(),t($(".online__content"))})),$(".accordion__title").on("click",(function(){return $(this).toggleClass("active").next().slideToggle(),!1})),$(".online__content").mCustomScrollbar({axis:"y"}),$(".instruction-content__text--scroll").mCustomScrollbar({axis:"y"}),$(".table-scroll").mCustomScrollbar({axis:"y"})})),$(".modal-close").on("click",(function(){$(this).parent().hide()}));let cabinetTypesPas=$(".typePassport");cabinetTypesPas.on("change",(function(){$(this).is("#radio_passport")?($(".cabinet-new__item--passport").show(),$(".cabinet-new__item--idCard").hide()):($(".cabinet-new__item--passport").hide(),$(".cabinet-new__item--idCard").show())})),$("#addCard").on("click",(function(){$(".choosen-card__new").show()})),$(".add-card__btn").on("click",(function(){$(".cabinet-new__item--newCard").show()})),$(".credit-table__col--creditNum").on("click",(function(){$(this).toggleClass("active"),$(this).parent().next().slideToggle()}));let instance,$range=$("#calculation-range-summ"),$input=$("#calculation-summ"),min=3e3,max=3e4,plus=$(".calculation-item__arrow--top"),minus=$(".calculation-item__arrow--bottom");$("#calculation-range-summ").ionRangeSlider({min:3e3,max:3e4,step:500,onStart:function(e){$input.prop("value",e.from)},onChange:function(e){$input.prop("value",e.from)}}),instance=$range.data("ionRangeSlider"),$input.on("input",(function(){var e=$(this).prop("value");e<min?e=min:e>max&&(e=max),instance.update({from:e})})),plus.on("click",(function(){let e=+$input.val();if(e+=500,e>3e4)return!1;$input.val(e),instance.update({from:e})})),minus.on("click",(function(){let e=+$input.val();if(e-=500,e<3e3)return!1;$input.val(e),instance.update({from:e})})),$("select").on("change",(function(){$(this).css("color","#333")})),$(".file").on("change",(function(){$(this).children(".select-file").css("display","none"),$(this).children(".downloaded-file").css("display","inline-block")}));const timerBlock=document.querySelector(".timer");if(timerBlock){let e=new Date("December 31, 2021 00:00:00").getTime(),t=setInterval((function(){let n=(new Date).getTime(),r=e-n,i=Math.floor(r/864e5),o=Math.floor(r%864e5/36e5),s=Math.floor(r%36e5/6e4),a=Math.floor(r%6e4/1e3);$(".timer").text(i+" д "+o+" ч "+s+" м "+a+" с"),console.log(r),r<=864e5&&r>=36e5?$(".timer").text(o+" ч "+s+" м "+a+" с"):r<=36e5&&r>=0?$(".timer").text(s+" м "+a+" с"):r<0&&(clearInterval(t),$(".timer").text("Время истекло"))}),1e3)}let rules={filterInp(e,t,n){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(n){e.addEventListener(n,(function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")&&(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))}))}))}};document.querySelector('input[name="phone"]')&&rules.filterInp(document.querySelector('input[name="phone"]'),(function(e){return/^\d*\.?\d*$/.test(e)})),document.querySelector('input[name="series"]')&&rules.filterInp(document.querySelector('input[name="series"]'),(function(e){return/^\d*\.?\d*$/.test(e)})),document.querySelector('input[name="passportNum"]')&&rules.filterInp(document.querySelector('input[name="passportNum"]'),(function(e){return/^\d*\.?\d*$/.test(e)})),document.querySelector('input[name="inn"]')&&rules.filterInp(document.querySelector('input[name="inn"]'),(function(e){return/^\d*\.?\d*$/.test(e)})),document.querySelector('input[name="child"]')&&rules.filterInp(document.querySelector('input[name="child"]'),(function(e){return/^\d*\.?\d*$/.test(e)})),document.querySelector('input[name="workPhone"]')&&rules.filterInp(document.querySelector('input[name="workPhone"]'),(function(e){return/^\d*\.?\d*$/.test(e)}));let typePas=$(".typePassport");typePas.on("change",(function(){$(this).is("#radio_passport")?($(".passport__inner").show(),$(".idCard__inner").hide()):($(".passport__inner").hide(),$(".idCard__inner").show())})),$("#step_1").validate({rules:{fullName:{required:!0,minlength:2},phone:{required:!0},status:{required:!0},dateBornDay:{required:!0},dateBornMounth:{required:!0},dateBornYear:{required:!0},series:{required:!0},passportNum:{required:!0},issued:{required:!0},inn:{required:!0},inn:{required:!0},"date-day":{required:!0},"date-month":{required:!0},"date-year":{required:!0},IDCard:{required:!0},checkbox:{required:!0}}});let formSteps=document.querySelector("#step_1-5");if(formSteps){let e=2;const t=document.querySelector(".step-count"),n=$("#step__btn-next"),r=$("#step__btn-prev"),i=document.querySelectorAll(".reg__step-item");t.innerText=e,steps={nextStep(){if(5!=e)return e++,t.innerText=e,console.log(e),$(".step-progress__item").eq(e-1).addClass("current"),$(".step-progress__item").eq(e-2).addClass("done"),e},prevStep(){if(2!=e)return e--,t.innerText=e,console.log(e),$(".step-progress__item").eq(e).removeClass("current"),$(".step-progress__item").eq(e-1).removeClass("done"),e},renderStep(){i.forEach((function(t){+t.dataset.step==e?t.classList.add("active"):t.classList.remove("active")}))},showBtn(){5===e?($("#step__btn-next").hide(),$("#submitBtn").show()):($("#step__btn-next").show(),$("#submitBtn").hide())}},$("#step_1-5").validate({rules:{status:{required:!0},education:{required:!0},child:{required:!0},name:{required:!0},surname:{required:!0},middleName:{required:!0},phone:{required:!0},statusRelationship:{required:!0},country:{required:!0},region:{required:!0},district:{required:!0},TypeOfRegion:{required:!0},nameregion:{required:!0},typeOfStreet:{required:!0},street:{required:!0},home:{required:!0},appart:{required:!0},term:{required:!0},index:{required:!0},nameWork:{required:!0},industry:{required:!0},numberEmployees:{required:!0},workPhone:{required:!0},employment:{required:!0},positionCat:{required:!0},specialty:{required:!0},workTerm:{required:!0},totalExperience:{required:!0},workRegion:{required:!0},workDistrict:{required:!0},workTypesRegion:{required:!0},workIndex:{required:!0},workNameRegion:{required:!0},workTypesOfStreet:{required:!0},workStreet:{required:!0},workHome:{required:!0},workCorps:{required:!0},workOffice:{required:!0},last:{required:!0},pay:{required:!0},summ:{required:!0},summIncome:{required:!0},"date-day":{required:!0},"date-month":{required:!0},"date-year":{required:!0}}}),n.on("click",e=>{e.preventDefault(),$("#step_1-5").valid()&&(steps.nextStep(),steps.renderStep(),steps.showBtn())}),r.on("click",e=>{e.preventDefault(),steps.prevStep(),steps.renderStep(),steps.showBtn()})}let camera=document.querySelector("#my_camera");if(camera){function take_snapshot(){Webcam.snap((function(e){document.getElementById("my_camera").innerHTML='<img src="'+e+'"/>'}))}Webcam.set({width:320,height:240,dest_width:320,dest_height:240,image_format:"jpeg",jpeg_quality:90,force_flash:!1,flip_horiz:!0,fps:45}),Webcam.attach("#my_camera")}$((function(){$(".popup-modal").magnificPopup({type:"inline",preloader:!1,focus:"#username",closeOnBgClick:!0,enableEscapeKey:!0,closeBtnInside:!1}),$(document).on("click",".popup__exit",(function(e){e.preventDefault(),$.magnificPopup.close()}))}));const form=document.querySelector("#step_1"),form2=document.querySelector("#step_1-5"),formInput=document.querySelectorAll("input"),formSelect=document.querySelectorAll("select");if(form||form2){({objInputs:[],addValue(e){formInput.forEach(e=>{e.addEventListener("change",e=>{let t=e.target.name,n=e.target.value,r=new Date;const i=this.objInputs.find(e=>e.name==t);i?(i.value=n,i.date=r):this.objInputs.push({name:t,value:n,date:r}),console.log(this.objInputs)})}),formSelect.forEach(e=>{e.addEventListener("change",e=>{let t=e.target.name,n=e.target.value,r=new Date;const i=this.objInputs.find(e=>e.name==t);i?(i.value=n,i.date=r):this.objInputs.push({name:t,value:n,date:r})})})}}).addValue()}